{"version":3,"sources":["router/instance.js","router/Link.js","router/Route.js","components/index.js","App.js","index.js"],"names":["instances","update","forEach","instance","forceUpdate","Link","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleClick","bind","assertThisInitialized","event","path","_this$props","replace","to","preventDefault","window","history","replaceState","pushState","historyPush","_this$props2","children","react_default","a","createElement","href","onClick","Component","Route","handlePop","comp","addEventListener","push","splice","indexOf","removeEventListener","exact","component","render","match","pathname","options","_options$exact","url","isExact","RegExp","concat","exec","matchPath","location","Home","Main","Profile","_ref","profile","Profiles","_ref2","items","name","slug","map","_ref3","key","Link_Link","_ref4","Route_Route","components_Profile","App","ReactDOM","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.ea033c50.chunk.js","sourcesContent":["\nconst instances = []\nconst register = (comp) => instances.push(comp)\nconst unregister = (comp) => instances.splice(instances.indexOf(comp), 1)\nconst update = () => instances.forEach(instance => instance.forceUpdate())\n\nexport {\n  update,\n  register,\n  unregister\n}\n","import React, { Component} from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { update } from './instance'\r\n\r\nconst historyPush = (path) => {\r\n  window.history.pushState({}, null, path)\r\n  update()\r\n}\r\n\r\nconst historyReplace = (path) => {\r\n  window.history.replaceState({}, null, path)\r\n  update()\r\n}\r\n\r\nexport default class Link extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.handleClick = this.handleClick.bind(this)\r\n  }\r\n\r\n  handleClick (event) {\r\n    const { replace, to } = this.props\r\n    event.preventDefault()\r\n\r\n    replace ? historyReplace(to) : historyPush(to)\r\n  }\r\n\r\n  render () {\r\n    const { to, children } = this.props\r\n\r\n    return (\r\n      <a href={to} onClick={this.handleClick}>\r\n        { children }\r\n      </a>\r\n    )\r\n  }\r\n}\r\n\r\nLink.propTypes = {\r\n  to: PropTypes.string.isRequired,\r\n  replace: PropTypes.bool\r\n}\r\n","import React, { Component} from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { register, unregister } from './instance'\r\n\r\nconst matchPath = (pathname, options) => {\r\n  const { exact = false, path } = options\r\n\r\n  if (!path) {\r\n    return {\r\n      path: null,\r\n      url: pathname,\r\n      isExact: true\r\n    }\r\n  }\r\n\r\n  const match = new RegExp(`^${path}`).exec(pathname)\r\n\r\n  if (!match) {\r\n    return null\r\n  }\r\n\r\n  const url = match[0]\r\n  const isExact = pathname === url\r\n\r\n  if (exact && !isExact) {\r\n    return null\r\n  }\r\n\r\n  return { path, url, isExact }\r\n}\r\n\r\nexport default class Route extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.handlePop = this.handlePop.bind(this)\r\n  }\r\n\r\n  componentWillMount () {\r\n    window.addEventListener('popstate', this.handlePop)\r\n    register(this)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    unregister(this)\r\n    window.removeEventListener('popstate', this.handlePop)\r\n  }\r\n\r\n  handlePop () {\r\n    this.forceUpdate()\r\n  }\r\n\r\n  render () {\r\n    const { path, exact, component, render } = this.props\r\n    const match = matchPath(window.location.pathname, { path, exact })\r\n\r\n    if (!match) {\r\n      return null\r\n    }\r\n    if (component) {\r\n      \r\n      //return React.createComponent(component, { match })\r\n      return component({match});\r\n    }\r\n    if (render) {\r\n      return render({ match })\r\n    }\r\n    return null\r\n  }\r\n}\r\n\r\nRoute.propTypes = {\r\n  exact: PropTypes.bool,\r\n  path: PropTypes.string,\r\n  Component: PropTypes.func,\r\n  render: PropTypes.func\r\n}\r\n","import React from 'react'\nimport { Link, Route } from '../router'\n\nconst Home = () => <h2>Home</h2>\n\nconst Main = () => <h2>Main</h2>\n\nconst Profile = ({ profile }) => <h3>{ profile }</h3>\n\nconst Profiles = ({ match }) => {\n  const items = [\n    { name: 'Tendai', slug: 'tendai' },\n    { name: 'Admin', slug: 'admin' },\n    { name: 'New user', slug: 'new-user' }\n  ]\n\n  return (\n    <div>\n      <h2>Profiles</h2>\n      <ul>\n        { items.map(({ name, slug }) => (\n          <li key={name}>\n            <Link to={`${match.url}/${slug}`}>{ name }</Link>\n          </li>\n        )) }\n      </ul>\n\n      { items.map(({ name, slug }) => (\n        <Route\n          key={name}\n          path={`${match.path}/${slug}`}\n          render={() => <Profile profile={name} />}\n        />\n      )) }\n\n      <Route exact\n        path={match.url}\n        render={() => <h3>Please select a profile to view.</h3>}\n      />\n    </div>\n  )\n}\n\n\nexport { Home, Main, Profile, Profiles }\n","import React, { Component } from 'react'\nimport './App.css'\n\nimport { Home, Main, Profiles } from './components'\nimport { Link, Route } from './router'\n\nclass App extends Component {\n  render () {\n    return (\n      <div>\n        <ul>\n          <li><Link to='/'>Home</Link></li>\n          <li><Link to='/main'>Main</Link></li>\n          <li><Link to='/profile'>Profile</Link></li>\n        </ul>\n\n        <hr />\n\n        <Route exact path='/' component={Home} />\n        <Route path='/main' component={Main} />\n        <Route path='/profile' component={Profiles} />\n      </div>\n    )\n  }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}